import React, { useState, useEffect } from 'react';

export const PricingTable = ({ type }) => {
  const [prices, setPrices] = useState([]);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    const fetchPrices = async () => {
      try {
        const response = await fetch(`https://api.replicated.com/vendor/v1/pricing/${type}`);
        if (!response.ok) {
          throw new Error('Failed to fetch pricing data');
        }
        const data = await response.json();
        setPrices(data);
        setLoading(false);
      } catch (err) {
        setError(err.message);
        setLoading(false);
      }
    };

    fetchPrices();
  }, [type]);

  if (loading) return <div>Loading pricing data...</div>;
  if (error) return <div>Error loading pricing data: {error}</div>;

  return (
    <table>
      <thead>
        <tr>
          <th width="25%">Instance Type</th>
          <th width="25%">VCPUs</th>
          <th width="25%">Memory (GiB)</th>
          <th width="25%">USD/Credit per hour</th>
        </tr>
      </thead>
      <tbody>
        {prices.map((price) => (
          <tr key={price.instanceType}>
            <td>{price.instanceType}</td>
            <td>{price.vcpus}</td>
            <td>{price.memory}</td>
            <td>${price.pricePerHour}</td>
          </tr>
        ))}
      </tbody>
    </table>
  );
};

# Compatibility Matrix Pricing

This topic describes the pricing for Replicated Compatibility Matrix.

## Pricing Overview

Compatibility Matrix usage-based pricing includes a $0.50 per cluster startup cost, plus by the minute pricing based on instance size and count (starting at the time the cluster state changed to "running" and ending when the cluster is either expired (TTL) or removed). Minutes will be rounded up, so there will be a minimum charge of $0.50 plus 1 minute for all running clusters. Each cluster's cost will be rounded up to the nearest cent and subtracted from the available credits in the team account. Remaining credit balance is viewable on the Replicated Vendor Portal [Cluster History](https://vendor.replicated.com/compatibility-matrix/history) page or with the Vendor API v3 [/vendor/v3/cluster/stats](https://replicated-vendor-api.readme.io/reference/getclusterstats) endpoint. Cluster [add-ons](/vendor/testing-cluster-addons) may incur additional charges. 

If the team's available credits are insufficient to run the cluster for the full duration of the TTL, the cluster creation will be rejected.

## Cluster Quotas

Each team is limited by the number of clusters that they can run concurrently. To increase the quota, reach out to your account manager.

## VM Cluster Pricing (Openshift, RKE2, K3s, Kind, Embedded Cluster, kURL)

VM-based clusters approximately match the AWS m6.i instance type pricing.

<PricingTable type="vm" />

## Cloud Cluster Pricing

### AWS EKS Cluster Pricing

AWS clusters will be charged AWS pricing plus a markup of 20%. Note that the markup will be calculated at the rounded price per hour in order to make hourly prices fixed. Pricing for Extended Support EKS versions (those Kubernetes versions considered deprecated by upstream Kubernetes) will have additional charges applied.

<PricingTable type="aws" />

### GCP GKE Cluster Pricing

GCP clusters will be charged GCP list pricing plus a markup of 20%. Note that the markup will be calculated at the rounded price per hour in order to make hourly prices fixed.

<PricingTable type="gcp" />

### Azure AKS Cluster Pricing

Azure clusters will be charged Azure list pricing plus a markup of 20%. Note that the markup will be calculated at the rounded price per hour in order to make hourly prices fixed.

<PricingTable type="azure" />

### Oracle OKE Cluster Pricing

Oracle based clusters will be charged Oracle list pricing plus a markup of 20%. Note that the markup will be calculated at the rounded price per hour in order to make hourly prices fixed.

<PricingTable type="oracle" />

Last modified January 06, 2025
