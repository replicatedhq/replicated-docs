import KotsadmNamespace from "../partials/kots-cli/_kotsadm-namespace.mdx"
import KotsadmRegistry from "../partials/kots-cli/_kotsadm-registry.mdx"
import RegistryPassword from "../partials/kots-cli/_registry-password.mdx"
import RegistryUsername from "../partials/kots-cli/_registry-username.mdx"
import Help from "../partials/kots-cli/_help.mdx"

# velero configure-nfs

Configures snapshots to use NFS as storage destination.

### Usage

```bash
kubectl kots velero configure-nfs [flags]
```

- _Provide `[flags]` according to the table below_

<table>
     <tr>
        <td width="30%">Flag</td>
        <td>Type</td>
        <td>Description</td>
    </tr>
    <Help/>
    <tr>
        <td>`-n, --namespace`</td>
        <td>string</td>
        <td>The namespace of the admin console (required)</td>
    </tr>
    <tr>
        <td>`--nfs-server`</td>
        <td>string</td>
        <td>The hostname or IP address of the NFS server (required)</td>
    </tr>
    <tr>
        <td>`--nfs-path`</td>
        <td>string</td>
        <td>The path that is exported by the NFS server (required)</td>
    </tr>
    <KotsadmNamespace/>
    <KotsadmRegistry/>
    <RegistryPassword/>
    <RegistryUsername/>
    <tr>
        <td>`--force-reset`</td>
        <td>bool</td>
        <td>Bypass the reset prompt and force resetting the nfs path. (default `false`)</td>
    </tr>
    <tr>
        <td>`--output`</td>
        <td>string</td>
        <td>Output format. Supported values: `json`</td>
    </tr>
</table>

### Examples

Basic

```bash
kubectl kots velero configure-nfs --nfs-server 10.128.0.32 --nfs-path /mnt/nfs_share --namespace kots-sentry
```

Using a registry for airgapped installations

```bash
kubectl kots velero configure-nfs \
  --nfs-server 10.128.0.32 \
  --nfs-path /mnt/nfs_share \
  --namespace kots-sentry \
  --kotsadm-registry private.registry.host/kots-sentry \
  --registry-username ro-username \
  --registry-password ro-password
```
